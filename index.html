<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bank Tycoon - Time Traveler Edition</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üè¶ BANK TYCOON üè¶</h1>
            <div class="era-display" id="eraDisplay">Era: 1920s - The Roaring Twenties</div>
            <div class="version-info">v2.0.0 | Updated: December 2024</div>
        </header>

        <div class="game-grid">
            <!-- Bank Status Panel -->
            <div class="panel status-panel">
                <h2>üèõÔ∏è Bank Status</h2>
                <div class="stat-row">
                    <span>Total Assets:</span>
                    <span id="totalAssets">$1,000</span>
                </div>
                <div class="stat-row">
                    <span>Cash Reserves:</span>
                    <span id="cashReserves">$1,000</span>
                </div>
                <div class="stat-row">
                    <span>Invested Funds:</span>
                    <span id="investedFunds">$0</span>
                </div>
                <div class="stat-row">
                    <span>Customer Deposits:</span>
                    <span id="customerDeposits">$0</span>
                </div>
                <div class="stat-row reserve-ratio">
                    <span>Reserve Ratio:</span>
                    <span id="reserveRatio">100%</span>
                </div>
                <div class="stat-row">
                    <span>Security Level:</span>
                    <span id="securityLevel">Basic</span>
                </div>
                <div class="stat-row">
                    <span>Teller Capacity:</span>
                    <span id="tellerCapacity">0/0</span>
                </div>
            </div>

            <!-- Customers Panel -->
            <div class="panel customers-panel">
                <h2>üë• Customers</h2>
                <div id="customerQueue">
                    <p class="hint">Only large or risky withdrawals require approval. Small transactions are auto-processed.</p>
                </div>
                <div class="customer-stats">
                    <div>Active Accounts: <span id="activeAccounts">0</span></div>
                    <div>Customer Trust: <span id="customerTrust">100%</span></div>
                </div>
                <div class="customer-segments">
                    <h3>Customer Segments</h3>
                    <div class="segment-stat">
                        <span>üë§ Retail:</span> <span id="retailCount">0</span> customers | $<span id="retailDeposits">0</span>
                    </div>
                    <div class="segment-stat">
                        <span>üè¢ Business:</span> <span id="businessCount">0</span> customers | $<span id="businessDeposits">0</span>
                    </div>
                    <div class="segment-stat">
                        <span>‚≠ê VIP:</span> <span id="vipCount">0</span> customers | $<span id="vipDeposits">0</span>
                    </div>
                </div>
            </div>

            <!-- Interest Rates Panel -->
            <div class="panel rates-panel">
                <h2>üíπ Interest Rates</h2>
                <div class="rates-controls">
                    <div class="rate-control">
                        <label>Deposit Rate: <span id="depositRateDisplay">2.00%</span></label>
                        <input type="range" id="depositInterestRate" min="0" max="0.10" step="0.001" value="0.02"
                            oninput="game.updateInterestRate('deposit', this.value)">
                        <div class="rate-hint">Market: <span id="marketDepositRate">2.00%</span></div>
                    </div>
                    <div class="rate-control">
                        <label>Loan Base Rate: <span id="loanRateDisplay">6.00%</span></label>
                        <input type="range" id="loanInterestRate" min="0.02" max="0.15" step="0.001" value="0.06"
                            oninput="game.updateInterestRate('loan', this.value)">
                        <div class="rate-hint">Market: <span id="marketLoanRate">6.00%</span></div>
                    </div>
                    <div class="rates-info">
                        üí° Competitive rates attract more customers!<br>
                        Higher deposit rates cost you more but increase trust.
                    </div>
                </div>
            </div>

            <!-- Loan Requests Panel -->
            <div class="panel loans-panel">
                <h2>üí≥ Loan Requests</h2>
                <div id="loanQueue">
                    <p class="hint">Customers seeking loans will appear here...</p>
                </div>
                <div class="active-loans">
                    <h3>Active Loans</h3>
                    <div id="activeLoansList">
                        <div class="no-loans">No active loans</div>
                    </div>
                </div>
            </div>

            <!-- Investments Panel -->
            <div class="panel investments-panel">
                <h2>üìà Investments</h2>
                <div class="investment-options">
                    <div class="investment-option">
                        <h3>Safe Bonds</h3>
                        <p>Returns: 3% per year</p>
                        <p>Risk: Very Low</p>
                        <input type="number" id="bondsAmount" placeholder="Amount" min="0" step="100">
                        <button onclick="game.invest('bonds')">Invest</button>
                    </div>
                    <div class="investment-option">
                        <h3>Stocks</h3>
                        <p>Returns: 8% per year</p>
                        <p>Risk: Medium</p>
                        <input type="number" id="stocksAmount" placeholder="Amount" min="0" step="100">
                        <button onclick="game.invest('stocks')">Invest</button>
                    </div>
                    <div class="investment-option">
                        <h3>Speculative</h3>
                        <p>Returns: 15% per year</p>
                        <p>Risk: High</p>
                        <input type="number" id="speculativeAmount" placeholder="Amount" min="0" step="100">
                        <button onclick="game.invest('speculative')">Invest</button>
                    </div>
                </div>
                <div class="portfolio">
                    <h3>Current Portfolio</h3>
                    <div id="portfolioDisplay">No investments yet</div>
                </div>
            </div>

            <!-- Objectives Panel -->
            <div class="panel objectives-panel">
                <h2>üéØ Objectives</h2>
                <div id="objectivesList" class="objectives-list">
                    <!-- Objectives will be populated by JavaScript -->
                </div>
            </div>

            <!-- Technology Research Panel -->
            <div class="panel tech-panel">
                <h2>üî¨ Technology Research</h2>
                <div class="tech-tree">
                    <div class="tech-category">
                        <h3>üõ°Ô∏è Security</h3>
                        <div id="securityTech"></div>
                    </div>
                    <div class="tech-category">
                        <h3>üí∞ Profit Enhancement</h3>
                        <div id="profitTech"></div>
                    </div>
                    <div class="tech-category">
                        <h3>üë• Customer Relations</h3>
                        <div id="customerTech"></div>
                    </div>
                    <div class="tech-category">
                        <h3>‚öôÔ∏è Efficiency</h3>
                        <div id="efficiencyTech"></div>
                    </div>
                </div>
            </div>

            <!-- Events/Log Panel -->
            <div class="panel events-panel">
                <h2>üì∞ Events & News</h2>
                <div id="eventLog">
                    <div class="event">Welcome to Bank Tycoon! Start accepting customer deposits and investing wisely.</div>
                </div>
            </div>

            <!-- Controls Panel -->
            <div class="panel controls-panel">
                <h2>‚è±Ô∏è Game Controls</h2>
                <div class="day-progress-container">
                    <div class="day-progress-label">Day Progress</div>
                    <div class="day-progress-bar-container">
                        <div id="dayProgressBar" class="day-progress-bar" style="width: 0%"></div>
                    </div>
                </div>
                <div class="time-controls">
                    <button onclick="game.toggleAutoPause()" id="autoBtn" class="active">Pause</button>
                    <button onclick="game.advanceTime()">‚è© Skip Day</button>
                </div>
                <div class="speed-controls">
                    <label>Speed:</label>
                    <button onclick="game.changeSpeed(15000)" class="speed-btn">Slow (15s)</button>
                    <button onclick="game.changeSpeed(10000)" class="speed-btn active">Normal (10s)</button>
                    <button onclick="game.changeSpeed(5000)" class="speed-btn">Fast (5s)</button>
                </div>
                <div class="game-date">
                    <strong>Date:</strong> <span id="gameDate">January 1920</span>
                </div>
                <div class="game-stats">
                    <div>Years in Business: <span id="yearsInBusiness">0</span></div>
                    <div>Total Profit: <span id="totalProfit">$0</span></div>
                </div>
            </div>

            <!-- Save/Load Panel -->
            <div class="panel save-panel">
                <h2>üíæ Save/Load Game</h2>
                <div id="saveInfo" class="save-info">
                    <div class="no-save">No saved game</div>
                </div>
                <div class="save-controls">
                    <button onclick="game.saveGame()" class="save-btn">üíæ Save Game</button>
                    <button onclick="game.loadGame()" class="load-btn">üìÇ Load Game</button>
                </div>
                <div class="save-controls">
                    <button onclick="game.exportSave()" class="export-btn">üì§ Export Save</button>
                    <button onclick="game.importSave()" class="import-btn">üì• Import Save</button>
                </div>
                <div class="save-controls">
                    <button onclick="game.newGame()" class="new-game-btn">üÜï New Game</button>
                    <button onclick="game.deleteSave()" class="delete-btn">üóëÔ∏è Delete Save</button>
                </div>
                <div class="auto-save-notice">
                    ‚ö° Auto-saves every year
                </div>
            </div>

            <!-- Staff Management Panel -->
            <div class="panel staff-panel">
                <h2>üëî Staff Management</h2>
                <div id="staffList" class="staff-list">
                    <!-- Staff will be populated by JavaScript -->
                </div>
                <div class="wage-info">
                    <strong>Monthly Wages:</strong> $<span id="totalWages">0</span>
                </div>
                <div class="loan-officer-info">
                    üí° Loan Officers auto-approve low-risk loans
                </div>
            </div>

            <!-- Automation Settings Panel -->
            <div class="panel automation-panel" id="automationPanel" style="display: none;">
                <h2>‚öôÔ∏è Staff Automation Settings</h2>
                <p class="automation-hint">Configure what your staff can do automatically. Requires appropriate staff to be hired.</p>

                <div class="automation-sections">
                    <!-- Teller Automation -->
                    <div class="automation-section">
                        <h3>üë®‚Äçüíº Teller Automation</h3>
                        <div class="automation-controls">
                            <label class="checkbox-label">
                                <input type="checkbox" id="autoApproveDeposits"
                                    onchange="game.updateAutomationSetting('tellers', 'autoApproveDeposits', this.checked); game.renderAutomationPanel()">
                                <span>Auto-approve all deposits</span>
                            </label>

                            <label class="checkbox-label">
                                <input type="checkbox" id="autoApproveWithdrawals"
                                    onchange="game.updateAutomationSetting('tellers', 'autoApproveWithdrawals', this.checked); game.renderAutomationPanel()">
                                <span>Auto-approve safe withdrawals</span>
                            </label>

                            <div class="slider-control">
                                <label>Max Auto-Withdrawal Amount: <span id="maxWithdrawalDisplay">$200</span></label>
                                <input type="range" id="maxWithdrawalAmount" min="0" max="500" step="50" value="200"
                                    oninput="game.updateAutomationSetting('tellers', 'maxWithdrawalAmount', this.value); game.renderAutomationPanel()">
                            </div>

                            <div class="slider-control">
                                <label>Min Reserve Ratio for Withdrawals: <span id="minReserveDisplay">30%</span></label>
                                <input type="range" id="minReserveRatio" min="10" max="50" step="5" value="30"
                                    oninput="game.updateAutomationSetting('tellers', 'minReserveRatioForWithdrawals', this.value); game.renderAutomationPanel()">
                                <div class="hint">Won't approve withdrawals if reserves drop below this %</div>
                            </div>
                        </div>
                    </div>

                    <!-- Loan Officer Automation -->
                    <div class="automation-section">
                        <h3>üíº Loan Officer Automation</h3>
                        <div class="automation-controls">
                            <label class="checkbox-label">
                                <input type="checkbox" id="autoApproveLowRisk"
                                    onchange="game.updateAutomationSetting('loanOfficers', 'autoApproveLowRisk', this.checked); game.renderAutomationPanel()">
                                <span>Auto-approve LOW risk loans</span>
                            </label>

                            <label class="checkbox-label">
                                <input type="checkbox" id="autoApproveMediumRisk"
                                    onchange="game.updateAutomationSetting('loanOfficers', 'autoApproveMediumRisk', this.checked); game.renderAutomationPanel()">
                                <span>Auto-approve MEDIUM risk loans</span>
                            </label>

                            <label class="checkbox-label">
                                <input type="checkbox" id="autoApproveHighRisk"
                                    onchange="game.updateAutomationSetting('loanOfficers', 'autoApproveHighRisk', this.checked); game.renderAutomationPanel()">
                                <span>Auto-approve HIGH risk loans ‚ö†Ô∏è</span>
                            </label>

                            <div class="slider-control">
                                <label>Max Auto-Loan Amount: <span id="maxLoanDisplay">$5000</span></label>
                                <input type="range" id="maxLoanAmount" min="1000" max="10000" step="500" value="5000"
                                    oninput="game.updateAutomationSetting('loanOfficers', 'maxLoanAmount', this.value); game.renderAutomationPanel()">
                            </div>

                            <div class="slider-control">
                                <label>Min Cash Buffer: <span id="minCashBufferDisplay">1.5x</span></label>
                                <input type="range" id="minCashBuffer" min="1" max="3" step="0.1" value="1.5"
                                    oninput="game.updateAutomationSetting('loanOfficers', 'minCashBuffer', this.value); game.renderAutomationPanel()">
                                <div class="hint">Requires this much cash vs loan amount before approving</div>
                            </div>
                        </div>
                    </div>

                    <!-- Manager Automation -->
                    <div class="automation-section">
                        <h3>üé© Manager Automation</h3>
                        <div class="automation-controls">
                            <label class="checkbox-label">
                                <input type="checkbox" id="autoInvest"
                                    onchange="game.updateAutomationSetting('managers', 'autoInvest', this.checked); game.renderAutomationPanel()">
                                <span>Auto-invest excess cash</span>
                            </label>

                            <div class="slider-control">
                                <label>Auto-Invest Threshold: <span id="autoInvestThresholdDisplay">$2000</span></label>
                                <input type="range" id="autoInvestThreshold" min="500" max="10000" step="500" value="2000"
                                    oninput="game.updateAutomationSetting('managers', 'autoInvestThreshold', this.value); game.renderAutomationPanel()">
                                <div class="hint">Only invest if cash exceeds this amount</div>
                            </div>

                            <div class="slider-control">
                                <label>Investment Percentage: <span id="autoInvestPercentageDisplay">10%</span></label>
                                <input type="range" id="autoInvestPercentage" min="5" max="50" step="5" value="10"
                                    oninput="game.updateAutomationSetting('managers', 'autoInvestPercentage', this.value); game.renderAutomationPanel()">
                                <div class="hint">% of excess cash to invest monthly</div>
                            </div>

                            <div class="select-control">
                                <label>Preferred Investment Type:</label>
                                <select id="preferredInvestment"
                                    onchange="game.updateAutomationSetting('managers', 'preferredInvestment', this.value); game.renderAutomationPanel()">
                                    <option value="bonds">Bonds (Low Risk, Low Return)</option>
                                    <option value="stocks">Stocks (Medium Risk, Medium Return)</option>
                                    <option value="speculative">Speculative (High Risk, High Return)</option>
                                </select>
                            </div>

                            <label class="checkbox-label">
                                <input type="checkbox" id="autoUpgradeTech"
                                    onchange="game.updateAutomationSetting('managers', 'autoUpgradeTech', this.checked); game.renderAutomationPanel()">
                                <span>Auto-upgrade technologies (cheapest first)</span>
                            </label>

                            <label class="checkbox-label">
                                <input type="checkbox" id="autoHireStaff"
                                    onchange="game.updateAutomationSetting('managers', 'autoHireStaff', this.checked); game.renderAutomationPanel()">
                                <span>Auto-hire staff when affordable</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Statistics Panel -->
            <div class="panel statistics-panel" id="statisticsPanel" style="display: none;">
                <h2>üìä Statistics & Analytics</h2>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Customers Served</div>
                        <div class="stat-value" id="statCustomersServed">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Deposits Processed</div>
                        <div class="stat-value" id="statDepositsProcessed">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Withdrawals Processed</div>
                        <div class="stat-value" id="statWithdrawalsProcessed">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Loans Issued</div>
                        <div class="stat-value" id="statLoansIssued">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Loan Defaults</div>
                        <div class="stat-value" id="statLoanDefaults">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Robberies Prevented</div>
                        <div class="stat-value" id="statRobberiesPrevented">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Robberies Succeeded</div>
                        <div class="stat-value" id="statRobberiesSucceeded">0</div>
                    </div>
                </div>

                <div class="charts-container">
                    <div class="chart-wrapper">
                        <h3>Cash Reserves Over Time</h3>
                        <canvas id="cashChart" width="400" height="150"></canvas>
                    </div>
                    <div class="chart-wrapper">
                        <h3>Customer Deposits Over Time</h3>
                        <canvas id="depositsChart" width="400" height="150"></canvas>
                    </div>
                    <div class="chart-wrapper">
                        <h3>Total Profit Over Time</h3>
                        <canvas id="profitChart" width="400" height="150"></canvas>
                    </div>
                    <div class="chart-wrapper">
                        <h3>Active Accounts Over Time</h3>
                        <canvas id="accountsChart" width="400" height="150"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Automation Settings Toggle Button -->
        <div class="automation-toggle">
            <button id="toggleAutomationBtn" onclick="game.toggleAutomationPanel()">‚öôÔ∏è Automation</button>
        </div>

        <!-- Statistics Toggle Button -->
        <div class="statistics-toggle">
            <button id="toggleStatsBtn" onclick="game.toggleStatistics()">üìä Statistics</button>
        </div>
    </div>

    <!-- Random Event Modal -->
    <div id="eventModal" class="event-modal" style="display: none;">
        <div class="event-modal-content">
            <h2 id="eventTitle" class="event-title">Event Title</h2>
            <p id="eventDescription" class="event-description">Event description goes here.</p>
            <div id="eventChoices" class="event-choices">
                <!-- Choices will be populated dynamically -->
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>
